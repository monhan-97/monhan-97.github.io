# 五层网络模型

`五层网络模型`通常指的是 `TCP/IP 五层模型`。有如下特点分别是:

- 每层相互独立,只需要解决自己的问题
- 每层无需考虑自己的问题,仅需要把自己的结果交给下层即可
- 每层有多种方案可以选择,选择的不同的方案不会对上下层造成影响
- 每一层会在上一层的基础上增加一些额外信息

它是一个广泛使用的网络架构，包含了五个层次，分别是：

## 应用层 (Application Layer):

- 提供用户接口和服务，支持网络应用程序的开发和访问。
- 包括 `HTTP`、`FTP`、`SMTP` 等协议。

## 传输层 (Transport Layer):

- 为应用层实体提供端到端的通信功能,保证了数据包的顺序传送及数据的完整性。
- 该层定义了两个主要的协议:`传输控制协议(TCP)`和`用户数据报协议(UDP)`.

## 网络层 (Network Layer):

- 负责对子网间的数据包进行路由选择，实现不同网络之间的数据包传输。
- 主要协议包括 `IP(Internet Protocol)`和`路由器`。

## 链路层 (Data Link Layer):

- 管理物理网络中节点之间的数据帧传输，提供物理地址(MAC 地址)的识别
- 包括`以太网协议`和 `交换机` 等技术。

## 物理层 (Physical Layer):

- 负责传输原始比特流，定义物理连接的特性，如电压、速率等。
- 包括传输介质，如光纤、电缆等。

## 数据的封装和解封装

`数据的封装和解封装`是指在网络通信中数据经过不同层次处理的过程。

### 封装

在发送端，数据在经过每一层时都会被封装：

- **应用层封装:**

  - 应用层数据被封装成`应用层协议数据单元(PDU)`

- **传输层封装:**

  - 传输层将`应用层数据`封装成传输层 `PDU`
  - 添加`源端口`和`目标端口信息`。

- **网络层封装:**

  - 网络层将`传输层 PDU` 封装成`网络层 PDU`
  - 添加`源IP地址`和`目标IP地址`

- **数据链路层封装:**

  - 数据链路层将`网络层 PDU` 封装成`数据链路层 PDU`
  - 添加`源MAC地址` 和 `目标MAC地址`

- **物理层传输:**
  - 最终，物理层将完整的数据链路层帧转换为`比特流`进行传输。

### 解封装

在接收端，数据在每一层接收后都会被逐层解封装：

- **物理层解封装:**

  - 物理层接收`比特流`，并将其转换为`数据链路层帧`。

- **数据链路层解封装:**

  - 数据链路层去除头部信息，提取`网络层 PDU`

- **网络层解封装:**

  - 网络层去除头部信息,提取`传输层 PDU`。

- **传输层解封装:**

  - 传输层去除头部信息,提取`应用层数据`。

- **应用层解封装:**

  - 应用层根据具体应用协议去除头部信息，提取原始的应用层数据

![数据的封装和解封装](./images/Snipaste_2024-07-31_01-49-56.png)
