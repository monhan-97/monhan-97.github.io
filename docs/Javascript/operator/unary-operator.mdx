# 一元操作符

只操作一个值的操作符叫做 **`一元操作符`**, `一元操作符`是 `ECMAScript` 中最简单的操作符

## 递增/递减操作符

递增和递减操作符分为`前缀版`和`后缀版`两个版本。

## 前缀版递增

前缀版: 就是位于操作的变量前头 **前缀版递增和递减在语句被求值之前被改变**

```javascript
let age = 29;
++age;

// 实际上等于如下表达式
// let age = 29
// age = age + 1;
```

```javascript
let age = 29;
--age;

// 实际上等于如下表达式
// let age = 29
// age = age - 1;
```

### 描述

无论是`前缀递增`还是`前缀递减`操作符,变量的值都会在语句被求值之前被改变

在这个例子中,变量`anotherage`以 `age` 减一后的值再加 `2` 进行初始化。

因为递减操作先发生所以 `age` 的值是 `28` `anotherage`的值是 `30`

```javascript
let age = 29;
let anotherage = --age + 2;

console.log(age); //28
console.log(anotherage); //30
```

```javascript
let age = 29;
age = age - 1;
```

## 后缀版递增

后缀版: 就是位于要操作的变量后头。**后缀版递增和递减在语句被求值后才发生**

```javascript
let age = 29;
age++;
```

```javascript
let age = 29;
age--;
```

## 转换规则

上述的四个操作符可以用作任何值，意思是不限于整数--字符串，布尔值，浮点值，甚至对象都可以。递增和递减操作符遵循如下规则。

- 对于字符串，如果是有效的数值形式，则转换为数值在应用改变，变量类型从字符串变成数值
- 对于字符串，如果不是有效的数值形式，则将变量的值设置为 `NaN`。变量类型从字符串变成一个数值
- 对于布尔值，如果是 `false` 则转换成 `0` 在应用改变。变量类型从布尔值变成数值
- 对于布尔值，如果是 `false 则转换成 `1` 在应用改变。变量类型从布尔值变成数值
- 如果是对象，则调用它本身的`valueOf()`方法取得可以操作的值。对得到的值应用上述规则。

```javascript
let s1 = "2";
let s2 = "z";
let b = false;
let f = 1.1;
let o = {
  valueOf() {
    return -1;
  },
};

++s1;
s2++;
b++;
f--;
o--;

console.log(s1); //3;
console.log(s2); //NaN;
console.log(b); //1;
console.log(f); //0.1000000000009;
console.log(c); // -2
```
