"use strict";(self.webpackChunkhuangmh_blog=self.webpackChunkhuangmh_blog||[]).push([[7864],{9384:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"Javascript/data-type/internal-symbol","title":"\u5e38\u7528\u7684\u5185\u7f6e\u7b26\u53f7","description":"ECMAScript \u5f15\u5165\u4e86\u4e00\u6279 \u5e38\u7528\u7684\u5185\u7f6e\u7b26\u53f7(well-known symbol) \u53ef\u4ee5\u7528\u4e8e\u66b4\u9732\u8bed\u8a00\u7684\u5185\u90e8\u884c\u4e3a,\u5f00\u53d1\u8005\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u3001\u91cd\u5199\u3001\u6216\u6a21\u62df\u8fd9\u4e9b\u884c\u4e3a\u3002","source":"@site/docs/Javascript/data-type/internal-symbol.mdx","sourceDirName":"Javascript/data-type","slug":"/Javascript/data-type/internal-symbol","permalink":"/docs/Javascript/data-type/internal-symbol","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"mohan-97","lastUpdatedAt":1730050949000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Symbol \u7c7b\u578b","permalink":"/docs/Javascript/data-type/symbol"},"next":{"title":"Object \u7c7b\u578b","permalink":"/docs/Javascript/data-type/object"}}');var o=r(3274),c=r(8438);const s={},i="\u5e38\u7528\u7684\u5185\u7f6e\u7b26\u53f7",d={},t=[{value:"Symbol.asyncIterator",id:"symbolasynciterator",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:3},{value:"Symbol.hasInstance",id:"symbolhasinstance",level:2},{value:"instanceof",id:"instanceof",level:3},{value:"Symbol.isConcatSpreadable",id:"symbolisconcatspreadable",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b-1",level:3},{value:"Symbol.iterator",id:"symboliterator",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-1",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b-2",level:3},{value:"Symbol.match",id:"symbolmatch",level:2},{value:"String.prototype.match",id:"stringprototypematch",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-2",level:4},{value:"Symbol.replace",id:"symbolreplace",level:2},{value:"String.prototype.replace",id:"stringprototypereplace",level:3},{value:"\u53c2\u6570\u8bf4\u660e",id:"\u53c2\u6570\u8bf4\u660e",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-3",level:4},{value:"Symbol.search",id:"symbolsearch",level:2},{value:"String.prototype.search",id:"stringprototypesearch",level:3},{value:"\u53c2\u6570\u8bf4\u660e",id:"\u53c2\u6570\u8bf4\u660e-1",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-4",level:4},{value:"Symbol.species",id:"symbolspecies",level:2},{value:"\u4ec0\u4e48\u53eb\u6d3e\u751f\u5bf9\u8c61",id:"\u4ec0\u4e48\u53eb\u6d3e\u751f\u5bf9\u8c61",level:3},{value:"\u5b9e\u4f8b",id:"\u5b9e\u4f8b",level:3},{value:"Symbol.split",id:"symbolsplit",level:2},{value:"String.prototype.split",id:"stringprototypesplit",level:3},{value:"\u53c2\u6570",id:"\u53c2\u6570-1",level:4},{value:"\u8fd4\u56de\u503c",id:"\u8fd4\u56de\u503c-1",level:4},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-5",level:4},{value:"Symbol.toPrimitive",id:"symboltoprimitive",level:2},{value:"\u63cf\u8ff0",id:"\u63cf\u8ff0-6",level:3},{value:"Symbol.toStringTag",id:"symboltostringtag",level:2},{value:"Symbol.unscopables",id:"symbolunscopables",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u5e38\u7528\u7684\u5185\u7f6e\u7b26\u53f7",children:"\u5e38\u7528\u7684\u5185\u7f6e\u7b26\u53f7"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"ECMAScript"})," \u5f15\u5165\u4e86\u4e00\u6279 ",(0,o.jsx)(n.strong,{children:"\u5e38\u7528\u7684\u5185\u7f6e\u7b26\u53f7(well-known symbol)"})," \u53ef\u4ee5\u7528\u4e8e\u66b4\u9732\u8bed\u8a00\u7684\u5185\u90e8\u884c\u4e3a,\u5f00\u53d1\u8005\u53ef\u4ee5\u76f4\u63a5",(0,o.jsx)(n.strong,{children:"\u8bbf\u95ee\u3001\u91cd\u5199\u3001\u6216\u6a21\u62df"}),"\u8fd9\u4e9b\u884c\u4e3a\u3002\r\n\u8fd9\u4e9b\u5185\u7f6e\u7b26\u53f7\u90fd\u4ee5",(0,o.jsx)(n.code,{children:"Symbol"}),"\u5de5\u5382\u51fd\u6570\u5b57\u7b26\u4e32\u5c5e\u6027\u7684\u5f62\u5f0f\u5b58\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5185\u7f6e\u7b26\u53f7\u6700\u91cd\u8981\u7684\u7528\u9014\u4e4b\u4e00\u5c31\u662f\u91cd\u65b0\u5b9a\u4e49\u5b83\u4eec\uff0c\u4ece\u800c\u6539\u53d8\u539f\u751f\u7ed3\u6784\u7684\u884c\u4e3a\u3002\u6bd4\u5982",(0,o.jsx)(n.code,{children:"for-of"}),"\u5faa\u73af\u4f1a\u5728\u76f8\u5173\u5bf9\u8c61\u4e0a\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"Symbol.iterator"}),"\u5c5e\u6027\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u901a\u8fc7\u5728\r\n\u5b9a\u4e49\u5bf9\u8c61\u4e0a\u91cd\u65b0\u5b9a\u4e49",(0,o.jsx)(n.code,{children:"Symbol.iterator"}),"\u7684\u503c \u6765\u6539\u53d8",(0,o.jsx)(n.code,{children:"for-of"}),"\u5728\u8fed\u4ee3\u8be5\u5bf9\u8c61\u65f6\u7684\u884c\u4e3a\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"symbolasynciterator",children:"Symbol.asyncIterator"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.asyncIterator"})})," \u7b26\u53f7\u6307\u5b9a\u4e86\u4e00\u4e2a\u5bf9\u8c61\u7684\u9ed8\u8ba4\u5f02\u6b65\u8fed\u4ee3\u5668\u3002\u5982\u679c\u4e00\u4e2a\u5bf9\u8c61\u8bbe\u7f6e\u4e86\u8fd9\u4e2a\u5c5e\u6027\uff0c\u5b83\u5c31\u662f\u5f02\u6b65\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff0c\u53ef\u7528\u4e8e ",(0,o.jsx)(n.code,{children:"for await...of"})," \u5faa\u73af\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"for await...of"}),"\u5faa\u73af\u4f1a\u5229\u7528\u8fd9\u4e2a\u51fd\u6570\u6267\u884c\u5f02\u6b65\u8fed\u4ee3\u64cd\u4f5c\u3002\u5faa\u73af\u7684\u65f6\u5019\uff0c\u5b83\u4eec\u4f1a\u8c03\u7528\u4ee5",(0,o.jsx)(n.code,{children:"Symbol.asyncIterator"}),"\u4e3a",(0,o.jsx)(n.code,{children:"key"}),"\u7684\u51fd\u6570,\r\n\u5e76\u671f\u671b\u8fd9\u4e2a\u51fd\u6570\u4f1a\u8fd4\u56de\u4e00\u4e2a\u5b9e\u73b0\u8fed\u4ee3\u5668\u7684 API \u7684\u5bf9\u8c61"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"class Foo {\r\n  async *[Symbol.asyncIterator]() {}\r\n}\r\n\r\nconst f = new Foo();\r\n\r\nconsole.log(f[Symbol.asyncIterator]()); // AsyncGenerator {<suspended>}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u6280\u672f\u4e0a\u8fd9\u4e2a\u7531 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.asyncIterator"})})," \u51fd\u6570\u751f\u6210\u7684\u5bf9\u8c61\uff0c\u5e94\u8be5\u901a\u8fc7\u5176 ",(0,o.jsx)(n.code,{children:"next"})," \u65b9\u6cd5\u9646\u7eed\u8fd4\u56de ",(0,o.jsx)(n.code,{children:"Promise"})," \u5b9e\u4f8b\uff0c\u53ef\u4ee5\u901a\u8fc7\u663e\u793a\u7684\u8c03\u7528 ",(0,o.jsx)(n.code,{children:"next"})," \u65b9\u6cd5\u8fd4\u56de\uff0c\r\n\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5f02\u6b65\u751f\u6210\u5668\u51fd\u6570\u8fd4\u56de:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"class Emitter {\r\n  constructor(max) {\r\n    this.max = max;\r\n    this.asyncIndex = 0;\r\n  }\r\n\r\n  async *[Symbol.asyncIterator]() {\r\n    while (this.max > this.asyncIndex) {\r\n      yield Promise.resolve(this.asyncIndex++);\r\n    }\r\n  }\r\n}\r\n\r\nconst emitter = new Emitter(5);\r\n\r\nasync function asyncCount() {\r\n  for await (const x of emitter) {\r\n    console.log(x);\r\n  }\r\n}\r\n\r\nasyncCount();\r\n// 0\r\n// 1\r\n// 2\r\n// 3\r\n// 4\n"})}),"\n",(0,o.jsx)(n.h2,{id:"symbolhasinstance",children:"Symbol.hasInstance"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.hasInstance"})})," \u7528\u4e8e\u5224\u65ad\u67d0\u5bf9\u8c61\u662f\u5426\u4e3a\u67d0\u6784\u9020\u51fd\u6570\u7684\u5b9e\u4f8b\u3002\u56e0\u6b64\u4f60\u53ef\u4ee5\u7528\u5b83\u81ea\u5b9a\u4e49 ",(0,o.jsx)(n.code,{children:"instanceof"})," \u64cd\u4f5c\u7b26\u5728\u67d0\u4e2a\u7c7b\u4e0a\u7684\u884c\u4e3a\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"instanceof"}),"\u64cd\u4f5c\u7b26\u53ef\u4ee5 ",(0,o.jsx)(n.strong,{children:"\u7528\u6765\u786e\u5b9a\u4e00\u4e2a\u5bf9\u8c61\u5b9e\u4f8b\u7684\u539f\u578b\u94fe\u4e0a\u662f\u5426\u6709\u539f\u578b"}),"\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"function Foo() {}\r\nconst foo = new Foo();\r\nconsole.log(foo instanceof Foo); // true\r\n\r\nfunction Bar() {}\r\nconst bar = new Bar();\r\nconsole.log(bar instanceof Bar); // true\n"})}),"\n",(0,o.jsx)(n.h3,{id:"instanceof",children:"instanceof"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"instanceof"})," \u8fd0\u7b97\u7b26\u7528\u4e8e\u68c0\u6d4b\u6784\u9020\u51fd\u6570\u7684 ",(0,o.jsx)(n.code,{children:"prototype"})," \u5c5e\u6027\u662f\u5426\u51fa\u73b0\u5728\u67d0\u4e2a\u5b9e\u4f8b\u5bf9\u8c61\u7684\u539f\u578b\u94fe\u4e0a\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e0b\u9762\u662f ",(0,o.jsx)(n.code,{children:"instanceof"})," \u8fd0\u7b97\u7b26\u7684\u5de5\u4f5c\u539f\u7406\u7684\u7b80\u5355\u6b65\u9aa4\uff1a"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u9996\u5148\uff0c\u5b83\u68c0\u67e5\u5bf9\u8c61\u7684 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"proto"})})," \u5c5e\u6027\uff0c\u4e5f\u5c31\u662f\u5bf9\u8c61\u7684\u539f\u578b\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u5982\u679c\u5bf9\u8c61\u7684\u539f\u578b\u4e0e\u6307\u5b9a\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u76f8\u7b49\uff0c\u90a3\u4e48\u8fd4\u56de ",(0,o.jsx)(n.code,{children:"true"}),"\u3002"]}),"\n",(0,o.jsx)(n.li,{children:"\u5982\u679c\u5bf9\u8c61\u7684\u539f\u578b\u4e0d\u7b49\u4e8e\u6307\u5b9a\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\uff0c\u5219\u7ee7\u7eed\u5411\u4e0a\u67e5\u627e\uff0c\u5c06\u5bf9\u8c61\u7684\u539f\u578b\u8bbe\u7f6e\u4e3a\u5f53\u524d\u539f\u578b\u7684\u539f\u578b\uff0c\u5e76\u91cd\u590d\u6b65\u9aa4 2\u3002"}),"\n",(0,o.jsxs)(n.li,{children:["\u5982\u679c\u5728\u539f\u578b\u94fe\u7684\u9876\u7aef\uff08\u5373 ",(0,o.jsx)(n.code,{children:"Object.prototype"}),"\uff09\u8fd8\u6ca1\u6709\u627e\u5230\u5339\u914d\u7684\u6784\u9020\u51fd\u6570\uff0c\u90a3\u4e48\u8fd4\u56de ",(0,o.jsx)(n.code,{children:"false"}),"\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"function Foo() {}\r\nconst foo = new Foo();\r\nconsole.log(foo instanceof Foo); // true, \u56e0\u4e3aObject.getPrototypeOf(foo) === Foo.prototype\r\n\r\nfunction Bar() {}\r\nconst bar = new Bar();\r\nconsole.log(bar instanceof Bar); // true, \u56e0\u4e3aObject.getPrototypeOf(bar) === Bar.prototype\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 ",(0,o.jsx)(n.code,{children:"ES6"})," \u4e2d",(0,o.jsx)(n.code,{children:"instanceof"}),"\u64cd\u4f5c\u7b26\u4f1a\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"Symbol.hasInstance"}),"\u51fd\u6570\u6765\u786e\u5b9a\u5173\u7cfb \u4ee5",(0,o.jsx)(n.code,{children:"Symbol.hasInstance"}),"\u4e3a key \u7684\u51fd\u6570\u4f1a\u6267\u884c\u540c\u6837\u7684\u64cd\u4f5c"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"function Foo() {}\r\nconst foo = new Foo();\r\nconsole.log(Foo[Symbol.hasInstance](foo)); // true\r\n\r\nfunction Bar() {}\r\nconst bar = new Bar();\r\nconsole.log(Bar[Symbol.hasInstance](bar)); // true\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u56e0\u4e3a\u8fd9\u4e2a\u5c5e\u6027\u5b9a\u4e49\u5728\u6765 ",(0,o.jsx)(n.code,{children:"Function"})," \u7684\u539f\u578b\u4e0a \u6240\u4ee5\u9ed8\u8ba4\u6240\u6709\u51fd\u6570\u548c\u7c7b\u90fd\u53ef\u4ee5\u8c03\u7528"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"class Bar {}\r\nclass Baz extends Bar {\r\n  static [Symbol.hasInstance]() {\r\n    return false;\r\n  }\r\n}\r\n\r\nconst b = new Baz();\r\nconsole.log(Bar[Symbol.hasInstance](b)); // true\r\nconsole.log(b instanceof Bar); // true\r\nconsole.log(Baz[Symbol.hasInstance](b)); // false\r\nconsole.log(b instanceof Baz); // true\n"})}),"\n",(0,o.jsx)(n.h2,{id:"symbolisconcatspreadable",children:"Symbol.isConcatSpreadable"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.isConcatSpreadable"})})," \u7b26\u53f7\u7528\u4e8e\u914d\u7f6e\u5bf9\u8c61\u4f5c\u4e3a ",(0,o.jsx)(n.code,{children:"Array.prototype.concat()"})," \u65b9\u6cd5\u7684\u53c2\u6570\u65f6\u662f\u5426\u5c55\u5f00\u5176\u6570\u7ec4\u5143\u7d20\uff0c"]}),"\n",(0,o.jsx)(n.h3,{id:"\u63cf\u8ff0",children:"\u63cf\u8ff0"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.isConcatSpreadable"})})," \u53ef\u4ee5\u76f4\u63a5\u5b9a\u4e49\u4e3a\u5bf9\u8c61\u5c5e\u6027\u6216\u7ee7\u627f\u800c\u6765\uff0c\u5b83\u662f\u5e03\u5c14\u7c7b\u578b\u3002\u5b83\u53ef\u4ee5\u63a7\u5236\u6570\u7ec4\u6216\u7c7b\u4f3c\u6570\u7ec4\uff08array-like\uff09\u7684\u5bf9\u8c61\u7684\u884c\u4e3a\uff1a"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u5bf9\u4e8e\u6570\u7ec4\u5bf9\u8c61\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7528\u4e8e ",(0,o.jsx)(n.code,{children:"concat"})," \u65f6\uff0c\u4f1a\u6309\u6570\u7ec4\u5143\u7d20\u5c55\u5f00\u7136\u540e\u8fdb\u884c\u8fde\u63a5\uff08\u6570\u7ec4\u5143\u7d20\u4f5c\u4e3a\u65b0\u6570\u7ec4\u7684\u5143\u7d20\uff09\u3002\r\n\u5982\u679c\u4e3a",(0,o.jsx)(n.code,{children:"true"})," \u548c\u9ed8\u8ba4\u60c5\u51b5\u57fa\u672c\u4e00\u6837\uff0c \u5982\u679c\u662f ",(0,o.jsx)(n.code,{children:"false"})," \u6216\u8005\u5047\u503c\u4f1a\u5bfc\u81f4\u6574\u4e2a\u5bf9\u8c61\u88ab\u8ffd\u52a0\u5230\u6570\u7ec4\u672b\u5c3e\uff0c"]}),"\n",(0,o.jsxs)(n.li,{children:["\u5bf9\u4e8e\u7c7b\u4f3c\u6570\u7ec4\u7684\u5bf9\u8c61\uff0c\u7528\u4e8e ",(0,o.jsx)(n.code,{children:"concat"})," \u65f6\uff0c\u8be5\u5bf9\u8c61\u6574\u4f53\u4f5c\u4e3a\u65b0\u6570\u7ec4\u7684\u5143\u7d20\uff0c\u5982\u679c\u4e3a",(0,o.jsx)(n.code,{children:"false"}),"\u6216\u8005\u5047\u503c \u548c\u9ed8\u8ba4\u60c5\u51b5\u57fa\u672c\u4e00\u6837\uff0c\u5982\u679c\u4e3a",(0,o.jsx)(n.code,{children:"true"})," \u6216\u771f\u503c\u4f1a\u5bfc\u81f4\u8fd9\u4e2a\u7c7b\u6570\u7ec4\u5bf9\u8c61\u5c55\u5f00\u7136\u540e\u8fdb\u884c\u8fde\u63a5\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u5176\u4ed6\u4e0d\u662f\u7c7b\u6570\u7ec4\u7684\u5bf9\u8c61\u5728 ",(0,o.jsx)(n.code,{children:"Symbol.isConcatSpreadable"}),"\u88ab\u8bbe\u7f6e\u4e3a true \u7684\u60c5\u51b5\u4e0b\u5c06\u88ab\u5ffd\u7565"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b-1",children:"\u793a\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"\u6570\u7ec4"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"let initial = [\"foo\"];\r\nlet array = [\"bar\"];\r\n\r\n// \u6570\u7ec4\u5bf9\u8c61\u7684 Symbol.isConcatSpreadable \u6ca1\u6709\u9ed8\u8ba4\u503c\r\nconsole.log(array[Symbol.isConcatSpreadable]); // undefined\r\n\r\n// \u6570\u7ec4\u5bf9\u8c61\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u88ab\u6253\u5e73\u5230\u5df2\u6709\u7684\u6570\u7ec4\r\nconsole.log(initial.concat(array)); // ['foo', 'bar']\r\n\r\narray[Symbol.isConcatSpreadable] = false;\r\n// \u5982\u679c\u662f false \u6216\u8005\u5047\u503c\u4f1a\u5bfc\u81f4\u6574\u4e2a\u5bf9\u8c61\u88ab\u8ffd\u52a0\u5230\u6570\u7ec4\u672b\u5c3e\uff0c\r\nconsole.log(initial.concat(array)); // ['foo', ['bar']]\n"})}),"\n",(0,o.jsx)(n.p,{children:"ArrayLike(\u7c7b\u6570\u7ec4)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"let initial = [\"foo\"];\r\nlet arrayLikeObj = {\r\n  length: 1,\r\n  0: \"bar\",\r\n};\r\n\r\n// \u7c7b\u6570\u7ec4\u5bf9\u8c61\u7684 Symbol.isConcatSpreadable \u6ca1\u6709\u9ed8\u8ba4\u503c\r\nconsole.log(arrayLikeObj[Symbol.isConcatSpreadable]); // undefined\r\n\r\n// \u8be5\u5bf9\u8c61\u6574\u4f53\u4f5c\u4e3a\u65b0\u6570\u7ec4\u7684\u5143\u7d20\r\nconsole.log(initial.concat(arrayLikeObj)); // ['foo',{...}]\r\n\r\narrayLikeObj[Symbol.isConcatSpreadable] = true;\r\n\r\n// \u5982\u679c\u4e3a`true` \u6216\u771f\u503c\u4f1a\u5bfc\u81f4\u8fd9\u4e2a\u7c7b\u6570\u7ec4\u5bf9\u8c61\u5c55\u5f00\u7136\u540e\u8fdb\u884c\u8fde\u63a5\u3002\r\nconsole.log(initial.concat(arrayLikeObj)); // ['foo', bar]\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5176\u4ed6\u4e0d\u662f\u7c7b\u6570\u7ec4\u7684"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"let initial = [\"foo\"];\r\nlet otherObject = new Set().add(\"qux\");\r\n\r\n// Symbol.isConcatSpreadable \u6ca1\u6709\u9ed8\u8ba4\u503c\r\nconsole.log(otherObject[Symbol.isConcatSpreadable]); // undefined\r\n\r\n// \u8be5\u5bf9\u8c61\u6574\u4f53\u4f5c\u4e3a\u65b0\u6570\u7ec4\u7684\u5143\u7d20\r\nconsole.log(initial.concat(otherObject)); // ['foo',Set(1)]\r\n\r\notherObject[Symbol.isConcatSpreadable] = true;\r\n\r\n// \u5176\u4ed6\u4e0d\u662f\u7c7b\u6570\u7ec4\u7684\u5bf9\u8c61\u5728 `Symbol.isConcatSpreadable`\u88ab\u8bbe\u7f6e\u4e3a true \u7684\u60c5\u51b5\u4e0b\u5c06\u88ab\u5ffd\u7565\r\nconsole.log(initial.concat(otherObject)); // ['foo']\n"})}),"\n",(0,o.jsx)(n.h2,{id:"symboliterator",children:"Symbol.iterator"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.iterator"})})," \u4e00\u4e2a\u65b9\u6cd5 \u4e3a\u6bcf\u4e00\u4e2a\u5bf9\u8c61\u5b9a\u4e49\u4e86\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u3002\u8be5\u8fed\u4ee3\u5668\u53ef\u4ee5\u88ab ",(0,o.jsx)(n.code,{children:"for...of"})," \u5faa\u73af\u4f7f\u7528\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u63cf\u8ff0-1",children:"\u63cf\u8ff0"}),"\n",(0,o.jsxs)(n.p,{children:["\u5f53\u9700\u8981\u5bf9\u4e00\u4e2a\u5bf9\u8c61\u8fdb\u884c\u8fed\u4ee3\u65f6\uff08\u6bd4\u5982\u5f00\u59cb\u7528\u4e8e\u4e00\u4e2a ",(0,o.jsx)(n.code,{children:"for...of"})," \u5faa\u73af\u4e2d\uff09\uff0c\u5b83\u7684 ",(0,o.jsx)(n.code,{children:"@@iterator"})," \u65b9\u6cd5\u90fd\u4f1a\u5728\u4e0d\u4f20\u53c2\u60c5\u51b5\u4e0b\u88ab\u8c03\u7528\uff0c\u8fd4\u56de\u7684\u8fed\u4ee3\u5668\u7528\u4e8e\u83b7\u53d6\u8981\u8fed\u4ee3\u7684\u503c\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u4e00\u4e9b\u5185\u7f6e\u7c7b\u578b\u62e5\u6709\u9ed8\u8ba4\u7684\u8fed\u4ee3\u5668\u884c\u4e3a\uff0c\u5176\u4ed6\u7c7b\u578b\uff08\u5982 ",(0,o.jsx)(n.code,{children:"Object"}),"\uff09\u5219\u6ca1\u6709\u3002\u62e5\u6709\u9ed8\u8ba4\u7684 ",(0,o.jsx)(n.code,{children:"@@iterator"})," \u65b9\u6cd5\u7684\u5185\u7f6e\u7c7b\u578b\u662f\uff1a"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Array.prototype[@@iterator]"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"String.prototype[@@iterator]"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Map.prototype[@@iterator]"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Set.prototype[@@iterator]"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"TypeArray.prototype[@@iterator]"})}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b-2",children:"\u793a\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"const iterable = {};\r\n\r\niterable[Symbol.iterator] = function* () {\r\n  yield 1;\r\n  yield 2;\r\n  yield 3;\r\n};\r\n\r\nconsole.log([...iterable]); // [1,2,3]\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u7c7b\u6216\u5bf9\u8c61\u4e2d\u4f7f\u7528",(0,o.jsx)(n.code,{children:"\u8ba1\u7b97\u5c5e\u6027"}),"\u5b9a\u4e49\u8fed\u4ee3\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'class Foo {\r\n  *[Symbol.iterator]() {\r\n    yield 1;\r\n    yield 2;\r\n    yield 3;\r\n  }\r\n}\r\n\r\nconst someObj = {\r\n  *[Symbol.iterator]() {\r\n    yield "a";\r\n    yield "b";\r\n  },\r\n};\r\n\r\nconsole.log(...new Foo()); // 1, 2, 3\r\nconsole.log(...someObj); // a, b\n'})}),"\n",(0,o.jsx)(n.h2,{id:"symbolmatch",children:"Symbol.match"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.match"})})," \u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u53bb\u5339\u914d\u5b57\u7b26\u4e32\u3002 \u53ef\u4ee5\u88ab ",(0,o.jsx)(n.code,{children:"String.prototype.match"})," \u65b9\u6cd5\u4f7f\u7528\u3002\r\n\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u539f\u578b\u4e0a\u9ed8\u8ba4\u6709",(0,o.jsx)(n.code,{children:"Symbol.match"}),"\u4e3a ",(0,o.jsx)(n.code,{children:"key"})," \u51fd\u6570\u7684\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"console.log(RegExp.prototype[Symbol.match]); // \u0192 [Symbol.match]() { [native code] }\r\n\r\nconsole.log(\"foobar\".match(/bar/)); // ['bar', index: 3, input: 'foobar', groups: undefined]\n"})}),"\n",(0,o.jsx)(n.h3,{id:"stringprototypematch",children:"String.prototype.match"}),"\n",(0,o.jsx)(n.p,{children:"\u8be5\u65b9\u6cd5\u68c0\u7d22\u5b57\u7b26\u4e32\u4e0e\u6b63\u5219\u8868\u8fbe\u5f0f\u8fdb\u884c\u5339\u914d\u7684\u7ed3\u679c\u3002"}),"\n",(0,o.jsx)(n.h4,{id:"\u53c2\u6570",children:"\u53c2\u6570"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"regexp"})}),"\n",(0,o.jsxs)(n.p,{children:["\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\u6216\u8005\u4efb\u4f55\u5177\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.match"})})," \u65b9\u6cd5\u7684\u5bf9\u8c61\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"regexp"})," \u4e0d\u662f ",(0,o.jsx)(n.code,{children:"RegExp"})," \u5bf9\u8c61\u5e76\u4e14\u5bf9\u8c61\u4e0a\u65e0 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.match"})})," \u65b9\u6cd5\uff0c\u5219\u4f1a\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"new RegExp(regexp)"})," \u5c06\u5176\u9690\u5f0f\u5730\u8f6c\u6362\u4e3a ",(0,o.jsx)(n.code,{children:"RegExp"}),"\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u6ca1\u6709\u7ed9\u51fa\u4efb\u4f55\u53c2\u6570\u5e76\u76f4\u63a5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"match()"})," \u65b9\u6cd5\uff0c\u4f60\u5c06\u4f1a\u5f97\u5230\u4e00\u4e2a\u5305\u542b\u7a7a\u5b57\u7b26\u4e32\u7684\u6570\u7ec4\uff1a",(0,o.jsx)(n.code,{children:'[""]'}),"\uff0c\u56e0\u4e3a\u8fd9\u7b49\u4ef7\u4e8e ",(0,o.jsx)(n.code,{children:"match(/(?:)/)"})]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"\u63cf\u8ff0-2",children:"\u63cf\u8ff0"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"String.prototype.match"})," \u65b9\u6cd5\u672c\u8eab\u7684\u5b9e\u73b0\u975e\u5e38\u7b80\u5355\uff0c\u5b83\u53ea\u662f\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u8c03\u7528\u4e86\u53c2\u6570\u7684 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.match"})})," \u65b9\u6cd5\u3002\u5b9e\u9645\u7684\u5b9e\u73b0\u6765\u81ea\u4e8e ",(0,o.jsx)(n.code,{children:"RegExp.prototype[@@match]()"}),"\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Symbol.match"})," \u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570 \u8c03\u7528",(0,o.jsx)(n.code,{children:"match()"}),"\u65b9\u6cd5\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u8fd4\u56de\u503c\u6210\u4e3a ",(0,o.jsx)(n.code,{children:"match()"}),"\u7684\u8fd4\u56de\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c",(0,o.jsx)(n.code,{children:"match()"})," \u7684\u884c\u4e3a\u5b8c\u5168\u7531 ",(0,o.jsx)(n.code,{children:"@@match"})," \u65b9\u6cd5\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'class FooMatcher {\r\n  [Symbol.match](a) {\r\n    return a.includes("foo");\r\n  }\r\n}\r\nconsole.log("foobar".match(new FooMatcher())); //true;\r\nconsole.log("barbaz".match(new FooMatcher())); //false\n'})}),"\n",(0,o.jsx)(n.h2,{id:"symbolreplace",children:"Symbol.replace"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.replace"})})," \u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u66ff\u6362\u4e00\u4e2a\u5b57\u7b26\u4e32\u4e2d\u5339\u914d\u7684\u5b50\u4e32\u3002 \u53ef\u4ee5\u88ab ",(0,o.jsx)(n.code,{children:"String.prototype.replace"})," \u65b9\u6cd5\u4f7f\u7528\u3002\r\n\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u539f\u578b\u4e0a\u9ed8\u8ba4\u6709",(0,o.jsx)(n.code,{children:"Symbol.replace"}),"\u4e3a ",(0,o.jsx)(n.code,{children:"key"})," \u51fd\u6570\u7684\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'console.log(RegExp.prototype[Symbol.replace]); // \u0192 [Symbol.replace]() { [native code] }\r\n\r\nconsole.log("foobarbaz".replace(/bar/, "qux")); // \'fooquxbaz\'\n'})}),"\n",(0,o.jsx)(n.h3,{id:"stringprototypereplace",children:"String.prototype.replace"}),"\n",(0,o.jsxs)(n.p,{children:["\u8be5\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\uff0c\u5176\u4e2d\u4e00\u4e2a\u3001\u591a\u4e2a\u6216\u6240\u6709\u5339\u914d\u7684 ",(0,o.jsx)(n.code,{children:"pattern"})," \u88ab\u66ff\u6362\u4e3a ",(0,o.jsx)(n.code,{children:"replacement"}),"\u3002"]}),"\n",(0,o.jsx)(n.h4,{id:"\u53c2\u6570\u8bf4\u660e",children:"\u53c2\u6570\u8bf4\u660e"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"pattern"})}),"\n",(0,o.jsxs)(n.p,{children:["\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u8005\u4e00\u4e2a\u5e26\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.replace"})})," \u65b9\u6cd5\u7684\u5bf9\u8c61\uff0c\u4efb\u4f55\u6ca1\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.replace"})})," \u65b9\u6cd5\u7684\u503c\u90fd\u4f1a\u88ab\u5f3a\u5236\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"replacement"})}),"\n",(0,o.jsx)(n.p,{children:"\u53ef\u4ee5\u662f\u5b57\u7b26\u4e32\u6216\u51fd\u6570\u3002"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u5982\u679c\u662f\u5b57\u7b26\u4e32\uff0c\u5b83\u5c06\u66ff\u6362\u7531 ",(0,o.jsx)(n.code,{children:"pattern"})," \u5339\u914d\u7684\u5b50\u5b57\u7b26\u4e32"]}),"\n",(0,o.jsx)(n.li,{children:"\u5982\u679c\u662f\u51fd\u6570\uff0c\u5c06\u4e3a\u6bcf\u4e2a\u5339\u914d\u8c03\u7528\u8be5\u51fd\u6570\uff0c\u5e76\u5c06\u5176\u8fd4\u56de\u503c\u7528\u4f5c\u66ff\u6362\u6587\u672c\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"\u63cf\u8ff0-3",children:"\u63cf\u8ff0"}),"\n",(0,o.jsx)(n.p,{children:"\u8be5\u65b9\u6cd5\u5e76\u4e0d\u6539\u53d8\u8c03\u7528\u5b83\u7684\u5b57\u7b26\u4e32\u672c\u8eab\uff0c\u800c\u662f\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32\u3002"}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"pattern"})," \u662f\u4e00\u4e2a\u5e26\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.replace"})})," \u65b9\u6cd5\u7684\u5bf9\u8c61\uff08\u5305\u62ec ",(0,o.jsx)(n.code,{children:"RegExp"})," \u5bf9\u8c61\uff09\uff0c\u5219\u8be5\u65b9\u6cd5\u5c06\u88ab\u8c03\u7528\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Symbol.replace"})," \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570 \u8c03\u7528",(0,o.jsx)(n.code,{children:"replace()"}),"\u65b9\u6cd5\u7684\u5b57\u7b26\u4e32 \u548c ",(0,o.jsx)(n.code,{children:"replacement"}),"\u3002\u5b83\u7684\u8fd4\u56de\u503c\u6210\u4e3a ",(0,o.jsx)(n.code,{children:"replace()"}),"\r\n\u7684\u8fd4\u56de\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c",(0,o.jsx)(n.code,{children:"replace()"})," \u7684\u884c\u4e3a\u5b8c\u5168\u7531 ",(0,o.jsx)(n.code,{children:"@@replace"})," \u65b9\u6cd5\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'class FooReplacer {\r\n  static [Symbol.replace](pattern, replacement) {\r\n    return pattern.split("foo").join(replacement);\r\n  }\r\n}\r\n\r\nconsole.log("barfoobaz".replace(FooReplacer, "qux")); // \'barquxbaz\'\n'})}),"\n",(0,o.jsx)(n.h2,{id:"symbolsearch",children:"Symbol.search"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.search"})})," \u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u8fd4\u5b57\u7b26\u4e32\u4e2d\u5339\u914d\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7d22\u5f15\u3002 \u53ef\u4ee5\u88ab ",(0,o.jsx)(n.code,{children:"String.prototype.search"})," \u65b9\u6cd5\u4f7f\u7528\u3002\r\n\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u539f\u578b\u4e0a\u9ed8\u8ba4\u6709",(0,o.jsx)(n.code,{children:"Symbol.search"}),"\u4e3a ",(0,o.jsx)(n.code,{children:"key"})," \u51fd\u6570\u7684\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'console.log(RegExp.prototype[Symbol.search]); // \u0192 [Symbol.search]() { [native code] }\r\n\r\nconsole.log("foobar".search(/bar/)); // 3\n'})}),"\n",(0,o.jsx)(n.h3,{id:"stringprototypesearch",children:"String.prototype.search"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"search()"})," \u65b9\u6cd5\u7528\u4e8e\u5728 ",(0,o.jsx)(n.code,{children:"String"})," \u5bf9\u8c61\u4e2d\u6267\u884c\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u641c\u7d22\uff0c\u5bfb\u627e\u5339\u914d\u9879\u3002"]}),"\n",(0,o.jsx)(n.h4,{id:"\u53c2\u6570\u8bf4\u660e-1",children:"\u53c2\u6570\u8bf4\u660e"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"pattern"})}),"\n",(0,o.jsxs)(n.p,{children:["\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u5bf9\u8c61\uff0c\u6216\u8005\u5177\u6709 **",(0,o.jsx)(n.code,{children:"Symbol.search"}),"**\u65b9\u6cd5\u7684\u4efb\u610f\u5bf9\u8c61\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"regexp"})," \u4e0d\u662f ",(0,o.jsx)(n.code,{children:"RegExp"})," \u5bf9\u8c61\uff0c\u5e76\u4e14\u4e0d\u5177\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.search"})})," \u65b9\u6cd5\uff0c\u5219\u4f1a\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"new RegExp(regexp)"})," \u5c06\u5176\u9690\u5f0f\u8f6c\u6362\u4e3a ",(0,o.jsx)(n.code,{children:"RegExp"}),"\u3002"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"\u8fd4\u56de\u503c",children:"\u8fd4\u56de\u503c"}),"\n",(0,o.jsx)(n.p,{children:"\u5982\u679c\u5339\u914d\u6210\u529f\uff0c\u5219\u8fd4\u56de\u6b63\u5219\u8868\u8fbe\u5f0f\u5728\u5b57\u7b26\u4e32\u4e2d\u9996\u6b21\u5339\u914d\u7684\u7d22\u5f15\uff1b\u5426\u5219\uff0c\u8fd4\u56de -1\u3002"}),"\n",(0,o.jsx)(n.h4,{id:"\u63cf\u8ff0-4",children:"\u63cf\u8ff0"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"String.prototype.search()"})," \u65b9\u6cd5\u7684\u5b9e\u73b0\u975e\u5e38\u7b80\u5355 \uff0c\u5b83\u53ea\u662f\u4f7f\u7528\u5b57\u7b26\u4e32\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u8c03\u7528\u4e86\u53c2\u6570\u7684 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.search"})})," \u65b9\u6cd5\u3002\r\n\u5b9e\u9645\u7684\u5b9e\u73b0\u6765\u81ea\u4e8e ",(0,o.jsx)(n.code,{children:"RegExp.prototype[@@search]()"}),"\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Symbol.search"})," \u51fd\u6570\u63a5\u6536\u4e00\u4e2a\u53c2\u6570 \u8c03\u7528",(0,o.jsx)(n.code,{children:"search()"}),"\u65b9\u6cd5\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u8fd4\u56de\u503c\u6210\u4e3a ",(0,o.jsx)(n.code,{children:"search()"}),"\u7684\u8fd4\u56de\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c",(0,o.jsx)(n.code,{children:"search()"})," \u7684\u884c\u4e3a\u5b8c\u5168\u7531 ",(0,o.jsx)(n.code,{children:"@@search"})," \u65b9\u6cd5\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'class FooSearcher {\r\n  static [Symbol.search](target) {\r\n    return target.indexOf("foo");\r\n  }\r\n}\r\n\r\nconsole.log("foobar".search(FooSearcher)); //0\r\nconsole.log("barfoo".search(FooSearcher)); //3\r\nconsole.log("barbaz".search(FooSearcher)); //-1\n'})}),"\n",(0,o.jsx)(n.h2,{id:"symbolspecies",children:"Symbol.species"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.species"})})," \u662f\u4e2a\u51fd\u6570\u503c\u5c5e\u6027\uff0c\u8fd9\u4e2a\u51fd\u6570\u4f5c\u4e3a\u521b\u5efa\u6d3e\u751f\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u4ec0\u4e48\u53eb\u6d3e\u751f\u5bf9\u8c61",children:"\u4ec0\u4e48\u53eb\u6d3e\u751f\u5bf9\u8c61"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"\u6d3e\u751f\u5bf9\u8c61"})," \u662f\u6307\u901a\u8fc7\u7ee7\u627f\u4e00\u4e2a\u57fa\u7c7b\uff08\u4e5f\u79f0\u4e3a\u7236\u7c7b\u6216\u8d85\u7c7b\uff09\u6765\u521b\u5efa\u7684\u5bf9\u8c61\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u5b9e\u4f8b",children:"\u5b9e\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"\u4f7f\u7528 Symbol.species"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"class Baz extends Array {\r\n  static get [Symbol.species]() {\r\n    return Array;\r\n  }\r\n}\r\n\r\nconst baz = new Baz(1, 2, 3);\r\nconsole.log(baz instanceof Baz); // true\r\n\r\nconst mapped = baz.map((x) => x * x);\r\nconsole.log(mapped instanceof Baz); // false\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u4e0d\u4f7f\u7528 Symbol.species"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"class Baz extends Array {}\r\n\r\nconst baz = new Baz(1, 2, 3);\r\nconsole.log(baz instanceof Baz); // true\r\n\r\nconst mapped = baz.map((x) => x * x);\r\nconsole.log(mapped instanceof Baz); // true\n"})}),"\n",(0,o.jsx)(n.h2,{id:"symbolsplit",children:"Symbol.split"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.split"})})," \u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u65b9\u6cd5\uff0c \u8be5\u65b9\u6cd5 \u6307\u5411\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u7d22\u5f15\u5904\u5206\u5272\u5b57\u7b26\u4e32\u7684\u65b9\u6cd5 \u3002 \u53ef\u4ee5\u88ab ",(0,o.jsx)(n.code,{children:"String.prototype.split"})," \u65b9\u6cd5\u4f7f\u7528\u3002\r\n\u6b63\u5219\u8868\u8fbe\u5f0f\u7684\u539f\u578b\u4e0a\u9ed8\u8ba4\u6709",(0,o.jsx)(n.code,{children:"Symbol.split"}),"\u4e3a ",(0,o.jsx)(n.code,{children:"key"})," \u51fd\u6570\u7684\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"console.log(RegExp.prototype[Symbol.split]); // \u0192 [Symbol.split]() { [native code] }\r\n\r\nconsole.log(\"foobarbaz\".split(/bar/)); // ['foo','baz']\n"})}),"\n",(0,o.jsx)(n.h3,{id:"stringprototypesplit",children:"String.prototype.split"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"split()"}),"\uff0c\u901a\u8fc7\u641c\u7d20\u6a21\u5f0f\u5c06\u5b57\u7b26\u4e32\u5206\u5272\u6210\u4e00\u4e2a\u6709\u5e8f\u7684\u5b50\u4e32\u5217\u8868\uff0c\u5c06\u8fd9\u4e9b\u5b50\u4e32\u653e\u5165\u4e00\u4e2a\u6570\u7ec4\uff0c\u5e76\u4e14\u8fd4\u56de\u8be5\u6570\u7ec4\u3002"]}),"\n",(0,o.jsx)(n.h4,{id:"\u53c2\u6570-1",children:"\u53c2\u6570"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"separator"})}),"\n",(0,o.jsxs)(n.p,{children:["\u63cf\u8ff0\u6bcf\u4e2a\u5206\u5272\u5e94\u8be5\u53d1\u751f\u5728\u54ea\u91cc\u7684\u6a21\u5f0f\u3002\u53ef\u4ee5\u662f ",(0,o.jsx)(n.code,{children:"undefined"}),"\uff0c\u4e00\u4e2a\u5b57\u7b26\u4e32,\u6216\u8005\u4e00\u4e2a\u5177\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.split"})})," \u65b9\u6cd5\u7684\u5bf9\u8c61(\u6b63\u5219\u8868\u8fbe\u5f0f)\u3002\r\n\u7701\u7565",(0,o.jsx)(n.code,{children:"separator"})," \u6216\u4f20\u9012 ",(0,o.jsx)(n.code,{children:"undefined"})," \u4f1a\u5bfc\u81f4 ",(0,o.jsx)(n.code,{children:"split()"})," \u8fd4\u56de\u4e00\u4e2a\u53ea\u5305\u542b\u6240\u8c03\u7528\u5b57\u7b26\u4e32\u6570\u7ec4,\u6240\u6709\u4e0d\u662f ",(0,o.jsx)(n.code,{children:"undefined"})," \u7684\u503c\u6216\u4e0d\u5177\u6709 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.split"})})," \u65b9\u6cd5\u7684\u5bf9\u8c61\u90fd\u88ab\u5f3a\u5236\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5982\u679c ",(0,o.jsx)(n.code,{children:"separator"})," \u662f\u4e00\u4e2a\u975e\u7a7a\u5b57\u7b26\u4e32\uff0c\u76ee\u6807\u5b57\u7b26\u4e32\u4f1a\u88ab\u6240\u6709\u5339\u914d\u7684 ",(0,o.jsx)(n.code,{children:"separator"})," \u5206\u5272\uff0c\u7ed3\u679c\u4e2d\u4e0d\u5305\u62ec ",(0,o.jsx)(n.code,{children:"separator"})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"limit"}),"\u53ef\u9009"]}),"\n",(0,o.jsx)(n.p,{children:"\u4e00\u4e2a\u975e\u8d1f\u6574\u6570\uff0c\u6307\u5b9a\u6570\u7ec4\u4e2d\u5305\u542b\u7684\u5b50\u5b57\u7b26\u4e32\u7684\u6570\u91cf\u9650\u5236\u3002"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"\u8fd4\u56de\u503c-1",children:"\u8fd4\u56de\u503c"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u7ed9\u5b9a\u5b57\u7b26\u4e32\u4e2d\u51fa\u73b0 ",(0,o.jsx)(n.code,{children:"separator"})," \u7684\u6bcf\u4e00\u4e2a\u70b9\u4e0a\u8fdb\u884c\u5206\u5272\u800c\u6210\u7684\u5b57\u7b26\u4e32\u6570\u7ec4"]}),"\n",(0,o.jsx)(n.h4,{id:"\u63cf\u8ff0-5",children:"\u63cf\u8ff0"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Symbol.split"})," \u51fd\u6570\u63a5\u6536\u4e24\u4e2a\u53c2\u6570 \u8c03\u7528",(0,o.jsx)(n.code,{children:"split()"}),"\u65b9\u6cd5\u7684\u5b57\u7b26\u4e32\u3002\u5b83\u7684\u8fd4\u56de\u503c\u6210\u4e3a ",(0,o.jsx)(n.code,{children:"split()"}),"\u7684\u8fd4\u56de\u503c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c",(0,o.jsx)(n.code,{children:"split()"})," \u7684\u884c\u4e3a\u5b8c\u5168\u7531 ",(0,o.jsx)(n.code,{children:"@@split"})," \u65b9\u6cd5\u5b9a\u4e49"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:"class FooSplitter {\r\n  static [Symbol.split](target, limit) {\r\n    return target.split(\"foo\");\r\n  }\r\n}\r\n\r\nconsole.log(\"barfoobaz\".split(FooSplitter)); //['bar','baz']\n"})}),"\n",(0,o.jsx)(n.h2,{id:"symboltoprimitive",children:"Symbol.toPrimitive"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.toPrimitive"})})," \u4e00\u4e2a\u65b9\u6cd5 \u8be5\u65b9\u6cd5\u53ef\u4ee5\u7528\u4e8e\u5b9a\u4e49\u5bf9\u8c61\u7684\u9ed8\u8ba4\u8f6c\u6362\u884c\u4e3a\u3002\r\n\u6307\u5b9a\u4e86\u4e00\u79cd\u63a5\u53d7\u9996\u9009\u7c7b\u578b\u5e76\u8fd4\u56de\u5bf9\u8c61\u539f\u59cb\u503c\u7684\u8868\u793a\u7684\u65b9\u6cd5 , \u5b83\u88ab\u6240\u6709\u7684\u5f3a\u7c7b\u578b\u8f6c\u6362\u5236\u7b97\u6cd5\u4f18\u5148\u8c03\u7528(",(0,o.jsx)(n.code,{children:"valueOf()"}),",",(0,o.jsx)(n.code,{children:"toString()"}),")\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u6267\u884c\u8868\u8fbe\u5f0f ",(0,o.jsx)(n.code,{children:"3 + foo"})," \u65f6\uff0c\u4f1a\u5148\u5c1d\u8bd5\u8c03\u7528\u5bf9\u8c61\u7684 ",(0,o.jsx)(n.code,{children:"valueOf()"})," \u65b9\u6cd5\u6765\u83b7\u53d6\u5176\u539f\u59cb\u503c\u3002\u5982\u679c ",(0,o.jsx)(n.code,{children:"valueOf()"})," \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u539f\u59cb\u503c\uff08\u6bd4\u5982\u6570\u5b57\uff09\u3002\r\n\u90a3\u4e48\u52a0\u6cd5\u8fd0\u7b97\u5c31\u4f1a\u7ee7\u7eed\u8fdb\u884c\uff0c\u5e76\u4ee5\u8fd9\u4e2a\u539f\u59cb\u503c\u4f5c\u4e3a\u7ed3\u679c\u3002\u5982\u679c ",(0,o.jsx)(n.code,{children:"valueOf()"})," \u65b9\u6cd5\u8fd4\u56de\u7684\u4ecd\u7136\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u90a3\u4e48\u4f1a\u7ee7\u7eed\u5c1d\u8bd5\u8c03\u7528\u5bf9\u8c61\u7684 ",(0,o.jsx)(n.code,{children:"toString()"})," \u65b9\u6cd5\u6765\u83b7\u53d6\u5b57\u7b26\u4e32\u8868\u793a\u5f62\u5f0f\uff0c\u7136\u540e\u518d\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'class Foo {}\r\n\r\nlet foo = new Foo();\r\n\r\nconsole.log(3 + foo); // 3[object Object];\r\nconsole.log(3 - foo); // NaN\r\nconsole.log(String(foo)); // [object Object];\r\n\r\nclass Bar {\r\n  [Symbol.toPrimitive] = function (hint) {\r\n    switch (hint) {\r\n      case "number":\r\n        return 3;\r\n      case "string":\r\n        return "string bar";\r\n      default:\r\n        return "default bar";\r\n    }\r\n  };\r\n}\r\n\r\nlet bar = new Bar();\r\n//\r\nconsole.log(3 + bar); // \'3default bar\';\r\nconsole.log(3 - bar); // 0\r\nconsole.log(String(bar)); // string bar;\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u63cf\u8ff0-6",children:"\u63cf\u8ff0"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.toPrimitive"})})," \u5c5e\u6027\uff08\u7528\u4f5c\u51fd\u6570\u503c\uff09\u7684\u5e2e\u52a9\u4e0b\uff0c\u5bf9\u8c61\u53ef\u4ee5\u8f6c\u6362\u4e3a\u4e00\u4e2a\u539f\u59cb\u503c\u3002\r\n\u8be5\u51fd\u6570\u88ab\u8c03\u7528\u65f6\uff0c\u4f1a\u88ab\u4f20\u9012\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570 ",(0,o.jsx)(n.code,{children:"hint"}),"\uff0c\u8868\u793a\u8981\u8f6c\u6362\u5230\u7684\u539f\u59cb\u503c\u7684\u9884\u671f\u7c7b\u578b\u3002",(0,o.jsx)(n.code,{children:"hint"})," \u53c2\u6570\u7684\u53d6\u503c\u662f ",(0,o.jsx)(n.code,{children:'"number"'}),"\u3001",(0,o.jsx)(n.code,{children:'"string"'})," \u548c ",(0,o.jsx)(n.code,{children:'"default"'})," \u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:'"number"'}),"hint \u7528\u4e8e\u5f3a\u5236\u6570\u5b57\u7c7b\u578b\u8f6c\u6362\u65b9\u6cd5\uff0c",(0,o.jsx)(n.code,{children:'"string"'})," hint \u7528\u4e8e\u5f3a\u5236\u5b57\u7b26\u4e32\u7c7b\u578b\u8f6c\u6362\u7b97\u6cd5\u3002",(0,o.jsx)(n.code,{children:"default"}),"hint \u7528\u4e8e\u5f3a\u5236\u539f\u59cb\u503c\u8f6c\u6362\u7b97\u6cd5\u3002hint \u4ec5\u662f\u4f5c\u4e3a\u9996\u9009\u9879\u7684\u504f\u5f31\u7684\u4fe1\u53f7\u63d0\u793a\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5b9e\u73b0\u65f6\uff0c\u53ef\u4ee5\u81ea\u7531\u5ffd\u7565\u5b83\uff08\u5c31\u50cf ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.prototype[@@toPrimitive]()"})})," \u4e00\u6837\uff09\u3002\u8be5\u8bed\u8a00\u4e0d\u4f1a\u5728 ",(0,o.jsx)(n.code,{children:"hint"})," \u548c\u7ed3\u679c\u7c7b\u578b\u4e4b\u95f4\u5f3a\u5236\u6821\u6b63\uff0c\u5c3d\u7ba1 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"[@@toPrimitive]()"})})," \u5fc5\u987b\u8fd4\u56de\u4e00\u4e2a\u539f\u59cb\u503c\uff0c\u5426\u5219\u5c06\u629b\u51fa ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"TypeError"})}),"\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"symboltostringtag",children:"Symbol.toStringTag"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.toStringTag"})})," \u8be5\u7b26\u53f7\u4f5c\u4e3a\u4e00\u4e2a\u5b57\u7b26\u4e32\u503c\u7684\u5c5e\u6027 \u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u7684\u9ed8\u8ba4\u5b57\u7b26\u4e32\u63cf\u8ff0\uff0c\u7531\u5185\u7f6e\u65b9\u6cd5",(0,o.jsx)(n.code,{children:"Object.prototype.toString()"}),"\u4f7f\u7528"]}),"\n",(0,o.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,o.jsx)(n.code,{children:"Object.prototype.toString()"}),"\u65b9\u6cd5\u83b7\u53d6\u5bf9\u8c61\u6807\u8bc6\u65f6\uff0c\u4f1a\u68c0\u7d22 ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.toStringTag"})})," \u6307\u5b9a\u7684\u5b9e\u4f8b\u6807\u8bc6\u7b26\uff0c\u9ed8\u8ba4\u4e3a ",(0,o.jsx)(n.code,{children:'\u201cObject"'}),",\u5185\u7f6e\u7c7b\u578b\u5df2\u7ecf\u6307\u5b9a\u4e86\u8fd9\u4e2a\u503c\r\n\u4f46\u662f\u81ea\u5b9a\u4e49\u5185\u578b\u9700\u8981\u660e\u786e\u5b9a\u4e49\u3002"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'let o = new Object();\r\nconsole.log(o.toString()); // [object Object]\r\nconsole.log(o[Symbol.toStringTag]); // undefined\r\n\r\nconst set = new Set();\r\nconsole.log(set.toString()); // [object Set]\r\nconsole.log(set[Symbol.toStringTag]); // Set\r\n\r\nclass ValidatorClass {\r\n  [Symbol.toStringTag] = "Validator";\r\n}\r\nconsole.log(new ValidatorClass().toString()); // [object Validator];\r\nconsole.log(new ValidatorClass()[Symbol.toStringTag]); // Validator\n'})}),"\n",(0,o.jsx)(n.h2,{id:"symbolunscopables",children:"Symbol.unscopables"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"Symbol.unscopables"})})," \u8fd9\u4e2a\u7b26\u53f7\u4f5c\u4e3a\u4e00\u4e2a\u5c5e\u6027\u8868\u793a",(0,o.jsx)(n.code,{children:"\u4e00\u4e2a\u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u6240\u6709\u7684\u4ee5\u53ca\u7ee7\u627f\u7684\u5c5e\u6027\u90fd\u4f1a\u4ece\u5173\u8054\u5bf9\u8c61\u7684 with \u73af\u5883\u7ed1\u5b9a\u4e2d\u89e3\u9664"}),"\u3002\r\n\u8bbe\u7f6e\u8fd9\u4e2a\u7b26\u53f7\u5e76\u8ba9\u5176\u6620\u5c04\u5bf9\u5e94\u5c5e\u6027\u7684 ",(0,o.jsx)(n.code,{children:"key"})," \u4e3a ",(0,o.jsx)(n.code,{children:"true"}),",\u5c31\u53ef\u4ee5\u963b\u6b62\u8be5\u5c5e\u6027\u51fa\u73b0\u5728 ",(0,o.jsx)(n.code,{children:"with"})," \u73af\u5883\u7ed1\u5b9a\u4e2d."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-javascript",children:'let o = { foo: "bar" };\r\n\r\nwith (o) {\r\n  console.log(foo); //bar\r\n}\r\n\r\no[Symbol.unscopables] = {\r\n  foo: true,\r\n};\r\nwith (o) {\r\n  console.log(foo); //ReferenceError\r\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8438:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>i});var l=r(9474);const o={},c=l.createContext(o);function s(e){const n=l.useContext(c);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),l.createElement(c.Provider,{value:n},e.children)}}}]);