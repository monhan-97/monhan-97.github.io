"use strict";(self.webpackChunkhuangmh_blog=self.webpackChunkhuangmh_blog||[]).push([[6180],{3881:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var s=r(8101);const i={},l=s.createContext(i);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}},5064:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>o,default:()=>j,frontMatter:()=>c,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"learn-react-source/fiber","title":"Fiber","description":"- \u5b9e\u73b0 ReactDOM.render \u51fd\u6570","source":"@site/docs/learn-react-source/fiber.mdx","sourceDirName":"learn-react-source","slug":"/learn-react-source/fiber","permalink":"/docs/learn-react-source/fiber","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"mohan-97","lastUpdatedAt":1736697992000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u6253\u5305\u6784\u5efa","permalink":"/docs/learn-react-source/build"}}');var i=r(5105),l=r(3881);const d="data:image/png;base64,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",c={},o="Fiber",h={},t=[{value:"\u5b9e\u73b0 render \u51fd\u6570",id:"\u5b9e\u73b0-render-\u51fd\u6570",level:2},{value:"Concurrent Mode",id:"concurrent-mode",level:2},{value:"\u4e3a\u4ec0\u4e48\u4f7f\u7528 MessageChannel",id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528-messagechannel",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 setTimeout",id:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528-settimeout",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 requestIdleCallback",id:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528-requestidlecallback",level:3},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 Generator",id:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528-generator",level:3},{value:"\u4ecb\u7ecd Fiber",id:"\u4ecb\u7ecd-fiber",level:2}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"fiber",children:"Fiber"})}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5b9e\u73b0 ReactDOM.render \u51fd\u6570"}),"\n",(0,i.jsx)(n.li,{children:"\u4ecb\u7ecd Concurrent Mode"}),"\n",(0,i.jsx)(n.li,{children:"\u4ecb\u7ecd Fiber"}),"\n"]})}),"\n",(0,i.jsx)(n.h2,{id:"\u5b9e\u73b0-render-\u51fd\u6570",children:"\u5b9e\u73b0 render \u51fd\u6570"}),"\n",(0,i.jsxs)(n.p,{children:["\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u81ea\u5df1\u5b9e\u73b0\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"render"})," \u51fd\u6570\uff0c\u5e76\u5c06\u5176\u63d2\u5165\u5230\u6307\u5b9a\u7684\u5bb9\u5668\u4e2d\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u76ee\u524d\uff0c\u6211\u4eec\u53ea\u5173\u5fc3\u5411 DOM \u6dfb\u52a0\u5185\u5bb9\u3002\u6211\u4eec\u7a0d\u540e\u4f1a\u5904\u7406\u66f4\u65b0\u548c\u5220\u9664\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5047\u8bbe ",(0,i.jsx)(n.code,{children:"jsx"})," \u8f6c\u6362\u7ed3\u679c\u5982\u4e0b:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'const element = {\n  type: "div",\n  props: {\n    style: "background: salmon",\n    children: [\n      {\n        type: "h1",\n        props: {\n          children: "Hello World",\n        },\n      },\n      {\n        type: "h2",\n        props: {\n          style: "text-align: right",\n          children: "from React",\n        },\n      },\n    ],\n  },\n};\n\nconst render = (element, container) => {\n  const dom = document.createElement(element.type);\n\n  Object.keys(element.props).forEach((name) => {\n    if (name === "children" && typeof element.props[name] === "string") {\n      dom.innerText = element.props[name];\n    } else {\n      dom[name] = element.props[name];\n    }\n  });\n\n  if (Array.isArray(element.props.children)) {\n    element.props.children.forEach((child) => render(child, dom));\n  }\n\n  container.appendChild(dom);\n};\n\nrender(element, document.getElementById("root"));\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"jsx\u5c55\u73b0\u6837\u5f0f",src:r(9076).A+"",width:"1402",height:"376"})}),"\n",(0,i.jsx)(n.h2,{id:"concurrent-mode",children:"Concurrent Mode"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u5f00\u59cb\u6dfb\u52a0\u66f4\u591a\u4ee3\u7801\u4e4b\u524d,\u6211\u4eec\u9700\u8981\u91cd\u6784\u4e4b\u524d\u7684 ",(0,i.jsx)(n.code,{children:"render"})," \u51fd\u6570:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u56e0\u4e3a\u4e00\u65e6\u5f00\u59cb\u6e32\u67d3\uff0c\u6211\u4eec\u5c31\u4e0d\u4f1a\u505c\u6b62\uff0c\u76f4\u5230\u6e32\u67d3\u51fa\u5b8c\u6574\u7684\u5143\u7d20\u6811\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u5982\u679c\u5143\u7d20\u6811\u5f88\u5927\uff0c\u53ef\u80fd\u4f1a\u963b\u585e",(0,i.jsx)(n.strong,{children:"\u4e3b\u7ebf\u7a0b"}),"\u592a\u957f\u65f6\u95f4\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5982\u679c\u6d4f\u89c8\u5668\u9700\u8981\u6267\u884c\u9ad8\u4f18\u5148\u7ea7\u7684\u64cd\u4f5c\uff0c\u4f8b\u5982\u5904\u7406\u7528\u6237\u8f93\u5165\u6216\u4fdd\u6301\u52a8\u753b\u6d41\u7545\uff0c\u5219\u5fc5\u987b\u7b49\u5230",(0,i.jsx)(n.code,{children:"render"})," \u51fd\u6570\u6267\u884c\u5b8c\u6210\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u6240\u4ee5,\u6211\u4eec\u53ef\u4ee5\u628a\u5de5\u4f5c\u5206\u6210\u5c0f\u5355\u5143,\u5b8c\u6210\u6bcf\u4e2a\u5355\u5143\u540e\uff0c\u5982\u679c\u8fd8\u6709\u5176\u4ed6\u9700\u8981\u5b8c\u6210\u7684\u4e8b\u60c5\uff0c\u6211\u4eec\u5c06\u8ba9\u6d4f\u89c8\u5668\u4e2d\u65ad\u6e32\u67d3\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4f7f\u7528-messagechannel",children:"\u4e3a\u4ec0\u4e48\u4f7f\u7528 MessageChannel"}),"\n",(0,i.jsx)(n.p,{children:"React \u4e3b\u8981\u4f7f\u7528\u5b8f\u4efb\u52a1\u6765\u5904\u7406\u6bcf\u8f6e\u5355\u5143\u7684\u4efb\u52a1,\u4f46\u662f\u4e3a\u4ec0\u4e48\u5b8f\u4efb\u52a1?"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f53\u6267\u884c\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"\u5b8f\u4efb\u52a1"}),"\u65f6, \u4e3b\u7ebf\u7a0b\u7684",(0,i.jsx)(n.code,{children:"JavaScript"}),"\u4ee3\u7801\u4f1a\u88ab ",(0,i.jsx)(n.code,{children:"\u6682\u65f6\u4e2d\u65ad"}),"\uff0c\u4ee5\u4fbf\u6d4f\u89c8\u5668\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e9b\u5173\u952e\u4efb\u52a1\u7684\u5904\u7406\u6bd4\u5982\uff1a"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u66f4\u65b0 DOM :"})," \u4f8b\u5982\u91cd\u65b0\u6e32\u67d3\u9875\u9762\u3001\u8ba1\u7b97\u6837\u5f0f\u6216\u89e6\u53d1\u5e03\u5c40\u53d8\u66f4\u7b49\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u5904\u7406\u7528\u6237\u4e8b\u4ef6:"})," \u4f8b\u5982\u7528\u6237\u70b9\u51fb\u3001\u952e\u76d8\u8f93\u5165\u3001\u9f20\u6807\u79fb\u52a8\u7b49\u4e8b\u4ef6\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"\u8fd0\u884c\u52a8\u753b\u6216\u8fc7\u6e21\u6548\u679c:"})," \u5728\u8fd9\u4e00\u671f\u95f4\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u66f4\u65b0\u52a8\u753b\u6216\u9875\u9762\u8fc7\u6e21\u7684\u6e32\u67d3\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5fae\u4efb\u52a1(\u4f8b\u5982",":Promise",".then)\u6267\u884c\u7684\u65f6\u5019,\u4e3b\u7ebf\u7a0b\u4e0d\u4f1a\u653e\u5f03\u5bf9\u5fae\u4efb\u52a1\u7684\u63a7\u5236\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528-settimeout",children:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 setTimeout"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u73b0\u4ee3\u6d4f\u89c8\u5668\u8ba4\u4e3a\u5d4c\u5957\u8fc7\u591a\u7684 setTimeout \u8c03\u7528\u8d85\u8fc7\u4e94\u6b21\u5c31\u4f1a\u963b\u585e\uff0c\u5e76\u5c06\u5176\u6700\u5c0f\u5ef6\u8fdf\u8bbe\u7f6e\u4e3a 4ms, \u56e0\u6b64\u4e0d\u591f\u7cbe\u786e\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528-requestidlecallback",children:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 requestIdleCallback"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"requestIdleCallback"}),"\u662f\u4e00\u4e2a\u5b9e\u9a8c\u6027\u7684 API,\u4ed6\u5728\u6d4f\u89c8\u5668\u7a7a\u95f2\u7684\u65f6\u5019\u6267\u884c\u56de\u8c03\uff0c\u800c ",(0,i.jsx)(n.code,{children:"React"})," \u9700\u8981\u6839\u636e\u7ec4\u4ef6\u4f18\u5148\u7ea7\u3001\u66f4\u65b0\u7684\u7d27\u6025\u7a0b\u5ea6\u7b49\u4fe1\u606f\uff0c\u66f4\u7cbe\u786e\u5730\u5b89\u6392\u6e32\u67d3\u7684\u5de5\u4f5c\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u517c\u5bb9\u6027\u4e0d\u592a\u597d,\u5c1a\u672a\u5f97\u5230\u6240\u6709\u6d4f\u89c8\u5668\u7684\u652f\u6301\u3002"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"requestIdleCallback"})," \u7684\u6267\u884c\u65f6\u673a\u4e0d\u662f\u5b8c\u5168\u53ef\u63a7\u7684\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u5728\u4e0d\u540c\u73af\u5883\u4e2d\u8868\u73b0\u4e0d\u4e00\u81f4\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528-generator",children:"\u4e3a\u4ec0\u4e48\u4e0d\u4f7f\u7528 Generator"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Generator"})," \u589e\u52a0\u4e86\u5f88\u591a\u8bed\u6cd5\u5f00\u9500\uff0c\u800c\u4e14\u8fd8\u589e\u52a0\u4e86\u73b0\u6709\u5b9e\u73b0\u4e2d\u7684\u8fd0\u884c\u65f6\u5f00\u9500\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Generator"})," \u662f\u6709\u72b6\u6001\u7684\u3002\u65e0\u6cd5\u5728\u5176\u4e2d\u9014\u6062\u590d\u3002\u5982\u679c\u4f60\u8981\u6062\u590d\u9012\u5f52\u73b0\u573a\uff0c\u53ef\u80fd\u9700\u8981\u4ece\u5934\u5f00\u59cb, \u6062\u590d\u5230\u4e4b\u524d\u7684\u8c03\u7528\u6808\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u4ecb\u7ecd-fiber",children:"\u4ecb\u7ecd Fiber"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e3a\u4e86\u7ec4\u7ec7\u6bcf\u4e2a",(0,i.jsx)(n.code,{children:"\u5de5\u4f5c\u5355\u5143(unit of work)"}),"\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u6570\u636e\u7ed3\u6784\uff1a",(0,i.jsx)(n.strong,{children:"Fiber"}),"\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u9700\u8981\u4e3a\u6bcf\u4e2a\u5143\u7d20\u521b\u5efa\u4e00\u4e2a",(0,i.jsx)(n.strong,{children:"Fiber"}),",\u540c\u6837\u6bcf\u4e2a",(0,i.jsx)(n.strong,{children:"Fiber"}),"\u90fd\u662f\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"\u5de5\u4f5c\u5355\u5143(unit of work)"}),"\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u6e32\u67d3\u4e00\u68f5\u50cf\u8fd9\u6837\u7684\u6811, \u6e32\u67d3\u7684 ",(0,i.jsx)(n.strong,{children:"Fiber"})," \u6811\u5927\u81f4\u5982\u4e0b:"]}),"\n",(0,i.jsxs)("div",{style:{display:"flex",gap:30},children:[(0,i.jsx)("div",{style:{width:275,height:"100%"},children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"ReactDOM.render(\n  <div>\n    <h1>\n      <p />\n      <a />\n    </h1>\n    <h2 />\n  </div>,\n  container\n);\n"})})}),(0,i.jsx)("img",{style:{background:"rgb(40, 44, 52)"},width:275,src:d})]}),"\n",(0,i.jsx)(n.p,{children:"\u6e32\u67d3\u8fc7\u7a0b\u4e2d\u9700\u8981\u505a\u7684\u4e8b\u60c5:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u521b\u5efa ",(0,i.jsx)(n.strong,{children:"RootFiber"})," \u5e76\u5c06\u5176\u8bbe\u7f6e\u4e3a ",(0,i.jsx)(n.code,{children:"nextUnitOfWork"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u6dfb\u52a0\u5230\u5143\u7d20\u5230 ",(0,i.jsx)(n.code,{children:"DOM \u6811"}),",\u7ed9\u6bcf\u4e2a\u5143\u7d20\u7684\u5b50\u5143\u7d20\u521b\u5efa ",(0,i.jsx)(n.strong,{children:"Fiber"}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u6bcf\u4e2a ",(0,i.jsx)(n.strong,{children:"Fiber"})," \u90fd\u5173\u8054\u4e86 ",(0,i.jsx)(n.code,{children:"\u5b50\u5143\u7d20"})," , \u4e0b\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"\u5144\u5f1f\u5143\u7d20"}),", \u548c ",(0,i.jsx)(n.code,{children:"\u7236\u5143\u7d20"})]}),"\n",(0,i.jsxs)(n.li,{children:["\u5f53\u6211\u4eec\u5b8c\u6210\u5bf9",(0,i.jsx)(n.strong,{children:"Fiber"}),"\u7684\u5904\u7406 \u5982\u679c\u5b83\u6709\u4e00\u4e2a ",(0,i.jsx)(n.code,{children:"\u5b50\u5143\u7d20"})," \u4f1a\u53d8\u6210\u4e0b\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"\u5de5\u4f5c\u5355\u5143"}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5982\u679c\u5f53\u524d",(0,i.jsx)(n.strong,{children:"Fiber"})," \u6ca1\u6709 ",(0,i.jsx)(n.code,{children:"\u5b50\u5143\u7d20"}),", \u4f1a\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"\u5144\u5f1f\u5143\u7d20"})," \u4f1a\u53d8\u6210\u4e0b\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"\u5de5\u4f5c\u5355\u5143"}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5982\u679c\u5f53\u524d",(0,i.jsx)(n.strong,{children:"Fiber"}),"\u6ca1\u6709 ",(0,i.jsx)(n.code,{children:"\u5b50\u5143\u7d20"})," \u6216\u8005 ",(0,i.jsx)(n.code,{children:"\u5144\u5f1f\u5143\u7d20"})," , \u4f1a\u4f7f\u7528",(0,i.jsx)(n.code,{children:"\u5144\u5f1f\u5143\u7d20"}),"\u7684 ",(0,i.jsx)(n.code,{children:"\u7236\u5143\u7d20"})," \u4f1a\u53d8\u6210\u4e0b\u4e00\u4e2a",(0,i.jsx)(n.code,{children:"\u5de5\u4f5c\u5355\u5143"}),"\u3002"]}),"\n"]})]})}function j(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},9076:(e,n,r)=>{r.d(n,{A:()=>s});const s=r.p+"assets/images/Snipaste_2024-12-25_01-04-23-b0d19bb36c07f22db1aac8b5aeb908e3.png"}}]);