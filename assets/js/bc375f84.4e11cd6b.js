"use strict";(self.webpackChunkhuangmh_blog=self.webpackChunkhuangmh_blog||[]).push([[7409],{9811:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Redux/bindActionCreators","title":"bindActionCreators","description":"\u901a\u8fc7 ActionCreator \u521b\u5efa\u52a8\u4f5c","source":"@site/docs/Redux/bindActionCreators.mdx","sourceDirName":"Redux","slug":"/Redux/bindActionCreators","permalink":"/docs/Redux/bindActionCreators","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"mohan-97","lastUpdatedAt":1699710088000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"combineReducers","permalink":"/docs/Redux/combineReducers"},"next":{"title":"applyMiddleware","permalink":"/docs/Redux/applyMiddleware"}}');var o=e(3274),c=e(8438);const i={},s="bindActionCreators",a={},d=[{value:"\u901a\u8fc7 ActionCreator \u521b\u5efa\u52a8\u4f5c",id:"\u901a\u8fc7-actioncreator-\u521b\u5efa\u52a8\u4f5c",level:2},{value:"bindActionCreator \uff08\u7b80\u4ecb)",id:"bindactioncreator-\u7b80\u4ecb",level:2},{value:"bindActionCreators",id:"bindactioncreators-1",level:2},{value:"bindActionCreators \u4f7f\u7528\u3002",id:"bindactioncreators-\u4f7f\u7528",level:2}];function l(n){const r={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.header,{children:(0,o.jsx)(r.h1,{id:"bindactioncreators",children:"bindActionCreators"})}),"\n",(0,o.jsx)(r.h2,{id:"\u901a\u8fc7-actioncreator-\u521b\u5efa\u52a8\u4f5c",children:"\u901a\u8fc7 ActionCreator \u521b\u5efa\u52a8\u4f5c"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["\u5b57\u9762\u610f\u601d \u662f\u4e00\u4e2a ",(0,o.jsx)(r.code,{children:"action"})," \u7684\u521b\u9020\u8005"]}),"\n",(0,o.jsxs)(r.li,{children:["\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570 \u4f20\u9012\u4e0d\u540c\u7684\u53c2\u6570 \u521b\u5efa\u4e0d\u540c\u53c2\u6570\u7684 ",(0,o.jsx)(r.code,{children:"action"})," \u6bd4\u5982\u6211\u4eec\u60f3\u6839\u636e\u4e0d\u540c\u53c2\u6570\u751f\u6210\u4e0d\u540c\u6b65\u957f\u7684\u8ba1\u6570\u5668\u52a8\u4f5c"]}),"\n",(0,o.jsxs)(r.li,{children:["\u968f\u7740\u6211\u4eec\u7684\u4e1a\u52a1\u903b\u8f91\u8d8a\u6765\u8d8a\u590d\u6742 \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u66f4\u52a0\u590d\u6742\u7684\u5de5\u5382\u51fd\u6570\u6765\u751f\u6210\u66f4\u591a\u6837\u5316\u7684 ",(0,o.jsx)(r.code,{children:"action"})]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:'const counterIncActionCreator = function (step?: number) {\r\n  return {\r\n    type: "INCREMENT",\r\n    step: step || 1,\r\n  };\r\n};\n'})}),"\n",(0,o.jsx)(r.h2,{id:"bindactioncreator-\u7b80\u4ecb",children:"bindActionCreator \uff08\u7b80\u4ecb)"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["\u57fa\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801 \u5982\u679c\u6211\u4eec\u60f3\u521b\u5efa\u51fa\u4e0d\u540c\u6b65\u957f\u7684\u8ba1\u6570\u5668 ",(0,o.jsx)(r.code,{children:"action"})," \u5e76\u4e14\u5206\u53d1\u8fd9\u4e9b\u521b\u5efa\u7684",(0,o.jsx)(r.code,{children:"action"})," \u4ee3\u7801\u5982\u4e0b"]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"const action1 = counterIncActionCreator();\r\ndispatch(action1);\r\n// { type: 'INCREMENT', step: 1 }\r\n\r\nconst action2 = counterIncActionCreator(2);\r\ndispatch(action2);\r\n// { type: 'INCREMENT', step: 2 }\r\n\r\nconst action3 = counterIncActionCreator(3);\r\ndispatch(action3);\r\n// { type: 'INCREMENT', step: 3 }\n"})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:["\u6bcf\u6b21\u5206\u53d1\u52a8\u4f5c\u4e4b\u524d\u6211\u4eec\u90fd\u5f97\u624b\u52a8\u8c03\u7528 ",(0,o.jsx)(r.code,{children:"counterIncActionCreator"})," \u6765\u751f\u4ea7\u76f8\u5e94\u7684\u52a8\u4f5c\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u662f\u90a3\u4e48\u7684\u4f18\u96c5"]}),"\n",(0,o.jsxs)(r.li,{children:["\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u7528\u4e00\u4e2a ",(0,o.jsx)(r.code,{children:"bindActionCreator"})," \u51fd\u6570\u4ee3\u66ff\u8fd9\u90e8\u5206\u64cd\u4f5c"]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"function bindActionCreator(actionCreator, dispatch) {\r\n  return function (this, ...args: any[]) {\r\n    return dispatch(actionCreator.apply(this, args));\r\n  };\r\n}\n"})}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"bindActionCreator"})," \u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570 \u8fd9\u4e2a\u51fd\u6570\u4f1a\u7528\u81ea\u8eab\u6240\u63a5\u6536\u7684\u53c2\u6570\u6765\u8c03\u7528 actionCreator \u751f\u6210\u4e00\u4e2a ",(0,o.jsx)(r.code,{children:"Action"})]}),"\n",(0,o.jsxs)(r.li,{children:["\u6211\u4eec\u628a ",(0,o.jsx)(r.code,{children:"\u751f\u6210 action"}),"\u548c ",(0,o.jsx)(r.code,{children:"\u8c03\u5ea6 action"})," \u8fd9\u4e2a\u4e24\u4e2a\u6b65\u9aa4\u653e\u5728\u540c\u4e00\u4e2a\u6b65\u9aa4\u91cc\u9762\u4e86 \u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b"]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"const increment = bindActionCreator(counterIncActionCreator, dispatch);\r\n\r\nincrement(1);\r\n// { type: 'INCREMENT', step: 1 }\r\n\r\nincrement(2);\r\n// { type: 'INCREMENT', step: 2 }\r\n\r\nincrement(3);\r\n// { type: 'INCREMENT', step: 3 }\n"})}),"\n",(0,o.jsx)(r.h2,{id:"bindactioncreators-1",children:"bindActionCreators"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"bindActionCreators"})," \u5b9e\u9645\u4e0a\u5c31\u662f\u52a0\u5f3a\u7248\u7684 bindActionCreator",(0,o.jsx)(r.code,{children:" \u4e3b\u8981\u533a\u522b\u5728\u4e8e"}),"bindActionCreators",(0,o.jsx)(r.code,{children:"\u53ef\u4ee5\u5904\u7406\u591a\u4e2a "}),"action \u51fd\u6570`"]}),"\n"]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:'function bindActionCreator(actionCreator, dispatch) {\r\n  return function (this, ...args: any[]) {\r\n    return dispatch(actionCreator.apply(this, ...args));\r\n  };\r\n}\r\n\r\nconst bindActionCreators = (actionCreators, dispatch) => {\r\n  if (typeof actionCreators == "function") {\r\n    return bindActionCreator(actionCreators, dispatch);\r\n  }\r\n\r\n  if (typeof actionCreators !== "object" || actionCreators === null) {\r\n    throw new Error(\r\n      `bindActionCreators expected an object or a function, but instead received: \'${kindOf(\r\n        actionCreators\r\n      )}\'. ` +\r\n        `Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?`\r\n    );\r\n  }\r\n\r\n  const boundActionCreators = {};\r\n\r\n  for (const key in actionCreators) {\r\n    const actionCreator = actionCreators[key];\r\n    if (typeof actionCreator === "function") {\r\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\r\n    }\r\n  }\r\n\r\n  return boundActionCreators;\r\n};\n'})}),"\n",(0,o.jsx)(r.h2,{id:"bindactioncreators-\u4f7f\u7528",children:"bindActionCreators \u4f7f\u7528\u3002"}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:'const actionCreators = {\r\n  increment: function (step) {\r\n    return {\r\n      type: "INCREMENT",\r\n      step: step || 1,\r\n    };\r\n  },\r\n\r\n  decrement: function (step) {\r\n    return {\r\n      type: "DECREMENT",\r\n      step: -(step || 1),\r\n    };\r\n  },\r\n};\r\n\r\nconst newActionCreators = bindActionCreators(actionCreators, dispatch);\r\nnewActionCreators.increment(1);\r\n// {type: "INCREMENT", step:1}\r\n\r\nnewActionCreators.decrement(2);\r\n// {type: "DECREMENT", step:-2}\n'})})]})}function u(n={}){const{wrapper:r}={...(0,c.R)(),...n.components};return r?(0,o.jsx)(r,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},8438:(n,r,e)=>{e.d(r,{R:()=>i,x:()=>s});var t=e(9474);const o={},c=t.createContext(o);function i(n){const r=t.useContext(c);return t.useMemo((function(){return"function"==typeof n?n(r):{...r,...n}}),[r,n])}function s(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),t.createElement(c.Provider,{value:r},n.children)}}}]);