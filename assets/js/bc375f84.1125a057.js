"use strict";(self.webpackChunkhuangmh_blog=self.webpackChunkhuangmh_blog||[]).push([[7409],{3881:(n,e,t)=>{t.d(e,{R:()=>i,x:()=>s});var r=t(8101);const o={},c=r.createContext(o);function i(n){const e=r.useContext(c);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),r.createElement(c.Provider,{value:e},n.children)}},4529:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"Redux/bindActionCreators","title":"bindActionCreators","description":"\u901a\u8fc7 ActionCreator \u521b\u5efa\u52a8\u4f5c","source":"@site/docs/Redux/bindActionCreators.mdx","sourceDirName":"Redux","slug":"/Redux/bindActionCreators","permalink":"/docs/Redux/bindActionCreators","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"mohan-97","lastUpdatedAt":1699710088000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"combineReducers","permalink":"/docs/Redux/combineReducers"},"next":{"title":"applyMiddleware","permalink":"/docs/Redux/applyMiddleware"}}');var o=t(5105),c=t(3881);const i={},s="bindActionCreators",a={},d=[{value:"\u901a\u8fc7 ActionCreator \u521b\u5efa\u52a8\u4f5c",id:"\u901a\u8fc7-actioncreator-\u521b\u5efa\u52a8\u4f5c",level:2},{value:"bindActionCreator \uff08\u7b80\u4ecb)",id:"bindactioncreator-\u7b80\u4ecb",level:2},{value:"bindActionCreators",id:"bindactioncreators-1",level:2},{value:"bindActionCreators \u4f7f\u7528\u3002",id:"bindactioncreators-\u4f7f\u7528",level:2}];function l(n){const e={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",ul:"ul",...(0,c.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"bindactioncreators",children:"bindActionCreators"})}),"\n",(0,o.jsx)(e.h2,{id:"\u901a\u8fc7-actioncreator-\u521b\u5efa\u52a8\u4f5c",children:"\u901a\u8fc7 ActionCreator \u521b\u5efa\u52a8\u4f5c"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u5b57\u9762\u610f\u601d \u662f\u4e00\u4e2a ",(0,o.jsx)(e.code,{children:"action"})," \u7684\u521b\u9020\u8005"]}),"\n",(0,o.jsxs)(e.li,{children:["\u6bd4\u5982\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u51fd\u6570 \u4f20\u9012\u4e0d\u540c\u7684\u53c2\u6570 \u521b\u5efa\u4e0d\u540c\u53c2\u6570\u7684 ",(0,o.jsx)(e.code,{children:"action"})," \u6bd4\u5982\u6211\u4eec\u60f3\u6839\u636e\u4e0d\u540c\u53c2\u6570\u751f\u6210\u4e0d\u540c\u6b65\u957f\u7684\u8ba1\u6570\u5668\u52a8\u4f5c"]}),"\n",(0,o.jsxs)(e.li,{children:["\u968f\u7740\u6211\u4eec\u7684\u4e1a\u52a1\u903b\u8f91\u8d8a\u6765\u8d8a\u590d\u6742 \u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b9a\u4e49\u66f4\u52a0\u590d\u6742\u7684\u5de5\u5382\u51fd\u6570\u6765\u751f\u6210\u66f4\u591a\u6837\u5316\u7684 ",(0,o.jsx)(e.code,{children:"action"})]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'const counterIncActionCreator = function (step?: number) {\n  return {\n    type: "INCREMENT",\n    step: step || 1,\n  };\n};\n'})}),"\n",(0,o.jsx)(e.h2,{id:"bindactioncreator-\u7b80\u4ecb",children:"bindActionCreator \uff08\u7b80\u4ecb)"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u57fa\u4e8e\u4e0a\u9762\u7684\u4ee3\u7801 \u5982\u679c\u6211\u4eec\u60f3\u521b\u5efa\u51fa\u4e0d\u540c\u6b65\u957f\u7684\u8ba1\u6570\u5668 ",(0,o.jsx)(e.code,{children:"action"})," \u5e76\u4e14\u5206\u53d1\u8fd9\u4e9b\u521b\u5efa\u7684",(0,o.jsx)(e.code,{children:"action"})," \u4ee3\u7801\u5982\u4e0b"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"const action1 = counterIncActionCreator();\ndispatch(action1);\n// { type: 'INCREMENT', step: 1 }\n\nconst action2 = counterIncActionCreator(2);\ndispatch(action2);\n// { type: 'INCREMENT', step: 2 }\n\nconst action3 = counterIncActionCreator(3);\ndispatch(action3);\n// { type: 'INCREMENT', step: 3 }\n"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u6bcf\u6b21\u5206\u53d1\u52a8\u4f5c\u4e4b\u524d\u6211\u4eec\u90fd\u5f97\u624b\u52a8\u8c03\u7528 ",(0,o.jsx)(e.code,{children:"counterIncActionCreator"})," \u6765\u751f\u4ea7\u76f8\u5e94\u7684\u52a8\u4f5c\uff0c\u8fd9\u79cd\u65b9\u5f0f\u5e76\u4e0d\u662f\u90a3\u4e48\u7684\u4f18\u96c5"]}),"\n",(0,o.jsxs)(e.li,{children:["\u6211\u4eec\u53ef\u4ee5\u81ea\u5df1\u7528\u4e00\u4e2a ",(0,o.jsx)(e.code,{children:"bindActionCreator"})," \u51fd\u6570\u4ee3\u66ff\u8fd9\u90e8\u5206\u64cd\u4f5c"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"function bindActionCreator(actionCreator, dispatch) {\n  return function (this, ...args: any[]) {\n    return dispatch(actionCreator.apply(this, args));\n  };\n}\n"})}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"bindActionCreator"})," \u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u65b0\u51fd\u6570 \u8fd9\u4e2a\u51fd\u6570\u4f1a\u7528\u81ea\u8eab\u6240\u63a5\u6536\u7684\u53c2\u6570\u6765\u8c03\u7528 actionCreator \u751f\u6210\u4e00\u4e2a ",(0,o.jsx)(e.code,{children:"Action"})]}),"\n",(0,o.jsxs)(e.li,{children:["\u6211\u4eec\u628a ",(0,o.jsx)(e.code,{children:"\u751f\u6210 action"}),"\u548c ",(0,o.jsx)(e.code,{children:"\u8c03\u5ea6 action"})," \u8fd9\u4e2a\u4e24\u4e2a\u6b65\u9aa4\u653e\u5728\u540c\u4e00\u4e2a\u6b65\u9aa4\u91cc\u9762\u4e86 \u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:"const increment = bindActionCreator(counterIncActionCreator, dispatch);\n\nincrement(1);\n// { type: 'INCREMENT', step: 1 }\n\nincrement(2);\n// { type: 'INCREMENT', step: 2 }\n\nincrement(3);\n// { type: 'INCREMENT', step: 3 }\n"})}),"\n",(0,o.jsx)(e.h2,{id:"bindactioncreators-1",children:"bindActionCreators"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.code,{children:"bindActionCreators"})," \u5b9e\u9645\u4e0a\u5c31\u662f\u52a0\u5f3a\u7248\u7684 bindActionCreator",(0,o.jsx)(e.code,{children:" \u4e3b\u8981\u533a\u522b\u5728\u4e8e"}),"bindActionCreators",(0,o.jsx)(e.code,{children:"\u53ef\u4ee5\u5904\u7406\u591a\u4e2a "}),"action \u51fd\u6570`"]}),"\n"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'function bindActionCreator(actionCreator, dispatch) {\n  return function (this, ...args: any[]) {\n    return dispatch(actionCreator.apply(this, ...args));\n  };\n}\n\nconst bindActionCreators = (actionCreators, dispatch) => {\n  if (typeof actionCreators == "function") {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== "object" || actionCreators === null) {\n    throw new Error(\n      `bindActionCreators expected an object or a function, but instead received: \'${kindOf(\n        actionCreators\n      )}\'. ` +\n        `Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?`\n    );\n  }\n\n  const boundActionCreators = {};\n\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n    if (typeof actionCreator === "function") {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n};\n'})}),"\n",(0,o.jsx)(e.h2,{id:"bindactioncreators-\u4f7f\u7528",children:"bindActionCreators \u4f7f\u7528\u3002"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-ts",children:'const actionCreators = {\n  increment: function (step) {\n    return {\n      type: "INCREMENT",\n      step: step || 1,\n    };\n  },\n\n  decrement: function (step) {\n    return {\n      type: "DECREMENT",\n      step: -(step || 1),\n    };\n  },\n};\n\nconst newActionCreators = bindActionCreators(actionCreators, dispatch);\nnewActionCreators.increment(1);\n// {type: "INCREMENT", step:1}\n\nnewActionCreators.decrement(2);\n// {type: "DECREMENT", step:-2}\n'})})]})}function u(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}}}]);